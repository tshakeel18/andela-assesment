<ng-container *ngIf="{
    detail: state.detail$| async,
    loaded: state.loaded$ | async,
    error: state.error$ | async
} as state">
  <div *ngIf="state.loaded else loader">
    <div class="flex flex-col">
      <div class="text-lg font-bold mb-2">
        {{state.detail?.name}}
      </div>

      <div class="flex gap-3">
        <div class="flex-shrink-0 w-32 h-32 md:w-[300px] md:h-full md:max-h-[500px] rounded-md shadow-md overflow-hidden">
          <img width="100%" height="70px" [src]="state.detail?.photoId" alt="profile pic"/>
        </div>
        <div class="flex-col">
          <div class="flex gap-2">
            <div class="subtitle font-bold">BirthDate:</div><div>{{state.detail?.birthDate}}</div>
          </div>
          <div class="flex gap-2">
            <div class="subtitle font-bold">Top Work:</div><div>{{state.detail?.topWork}}</div>
          </div>
          <div class="flex gap-2">
            <div class="subtitle font-bold">Work Count:</div><div>{{state.detail?.workCount}}</div>
          </div>

          <div class="flex gap-2">
            <div class="subtitle font-bold">Top Subjects:</div><div *ngFor="let subject of state.detail?.topSubjects">{{subject}}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #loader>
  <p>Loading</p>
</ng-template>